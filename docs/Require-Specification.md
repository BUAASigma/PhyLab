# 需求规格说明文档

版本号:v1.1

修订历史：

版本号 | 修改说明 
---- | ----
v1.0.0 | 用户需求分析初稿，完成用户场景分析，市场与竞争部分
v1.0.1 | 添加问卷调查结果分析，完善市场与竞争部分
v1.0.2 | 添加用户场景分析，最后确定需求功能
v1.1 | 将界面原型设计文档加入

##目录：

- [1.引言](#1-引言)
	- [1.1 编写目的](#11-编写目的)
	- [1.2 项目背景](#12-项目背景)
	- [1.3 预期的读者和阅读建议](#13-预期的读者和阅读建议)
	- [1.4 项目范围](#14-项目范围)
	- [1.5 参考资料](#15-参考资料)
- [2.总体描述](#2用户需求分析)
	- [2.1 目标]()
		- [开发背景]
		- [开发意图]
		- [应用目标和作用范围]
		- [产品前景]
	- [2.2 用户场景分析(User Analysis)](#22-用户场景分析user--analysis)
		- [用户场景](#用户场景)
		- [用户需求](#用户的需求)
	- [2.3 运行环境]()
- [3.界面原型](#3界面原型)
	- [3.1概述](#31-概述)
		- [产品初稿](#产品初稿)
		- [大纲说明](#大纲说明)
	- [3.2首页](#32-首页)
		- [首页预览版](#首页预览版)
		- [首页登录版](#首页登录版)
	- [3.3 登录](#33-登录)
	- [3.4 个人中心](#34个人中心)
		- [个人中心—个人资料](#个人中心个人资料)
		- [个人中心—用户收藏报告](#个人中心用户收藏报告)
	- [3.5 生成报告](#35-生成报告)

## 1. 引言

### 1.1 编写目的

此需求规格说明书编制目的是明确本项目的详细需求，供用户确认项目的功能和性能，和用户形成一致的理解和确认，作为进一步详细设计软件的基础。

本文档仅供软剑攻城队的项目经理、设计人员、开发人员进行参考。

### 1.2 项目背景

- 项目名称： 物理实验交流平台
- 项目面向用户：北京航空航天大学大学二年级在读生
- 项目开发者：北京航空航天大学软工实践 软剑攻城队 小组

### 1.3 预期的读者和阅读建议

此需求规格说明书针对项目经理、设计人员、开发人员、用户及测试人员。本文分别介绍了产品的远景规划、用户功能及运行环境，系统的功能的具体描述。

### 1.4 项目范围

在北航，每年从9月份至明年1月份约有3800在校学生（大学二年级上）必修大学物理实验(上），在3月份至明年7月份约有2400在校学生（大学二年级下）必修大学物理实验（下）。由于物理实验数据计算较为繁琐，很多学生的物理实验报告得分较低且经常会被老师退回反复修改。所以需要这样一套物理实验平台帮助学生进行物理实验报告的撰写，提高得分率，降低驳回率。

### 1.5 参考资料
 1. 代码大全（第二版），Steve McConnel。
 2. 《构建之法》(第二版)，邹欣。
 3. 《GB8567-88 计算机软件需求说明编制指南》

## 2. 总体描述

### 2.2. 用户场景分析(User  Analysis)

下面针对我们的系统主要面向的五类用户：

* 因基础较弱对物理实验毫无办法，而实验报告因为步骤不规范而总被退回、导致重修的同学。
* 会做一部分物理实验，但因数据误差过大而被退还报告的同学。
* 会做绝大部分物理实验，但因一部分实验处理数据难度较大，希望得到帮助的同学
* 负责期末物理实验考试答疑的老师
* 负责平时物理实验报告审批的老师

下面我们通过分析典型用户场景得出各位用户的需求：

#### 用户场景：

1.**重修生小徐**

名字 | 小徐
:----: | :----
性别 | 男
职业 | 某校一般学院大三学生
物理知识层次与能力 | 好得我实验都重修了
生活情况 | 大三也要每周花将近一天时间坐地铁回沙河上物理实验，十分苦逼
动机 | 我真的不想再挂科了
目的 | 希望能够帮助自己处理好实验报告，至少能保证实验报告不因数据处理步骤不对而被老师退回。
困难 | 自己物理知识较弱，希望计算过程能详细又简洁。
用户偏好 | 简洁即可
用户比例 | 约占同届学生10%
典型场景 | 登陆实验平台，根据预习报告模板写好预习报告。在实验完成后，将数据导入网站，一键生成物理实验报告，按正确的步骤写好报告，获得及格分，通过物理实验。
典型描述 | 哈？你说啥？我实验报告又没过？！

2.**工科学霸小松**

名字 | 小松
:----: | :----
性别 | 男
职业 | 某校计算机学院大二学生
物理知识层次与能力 | 你问我究竟听不听大学物理课，其实我是听的。你问我会不会做物理实验，其实我是不会的。
生活情况 | 计组实验，计组实验，计组实验。
动机 | 本学期有难到哭的计组实验，没有太多时间留给物理实验处理数据，更没有时间因为数据错误而再次抢课，从头在来。
目的 | 在实验课上就可以快速算出结果是否在预计误差范围内
困难 | 没什么困难，我能说计组实验吗
用户偏好 | 不是处女座，没什么严格偏好
用户比例 | 绝大多数，约占校人数70%
典型场景 | 这次选择了号称魔鬼实验的1081，课上做完实验用手机去平台检查一下数据，咦，这个数据有问题？幸亏没早走，把这个步骤再重做一次，恩，这下数据没问题了，可以去找老师签字了。
典型描述 | 朝荣奶奶，求手下留情


3.**物理学院学霸小何**

名字 | 小何
:----: | :----
性别 | 男
职业 | 某校物理学院大二学生
物理知识层次与能力 | 活到老，物理学到老，物理就是我绳命。
生活情况 | 物理实验，物理实验，物理实验。
动机 | 要选修够将近60学分的物理实验，保守估计至少需要做11~12次物理实验。有些物理实验很难，不太懂其中的计算过程。
目的 | 希望能给出具体的计算过程，把自己方法中不太会的地方搞懂。
困难 | 工具简单易懂即可
用户偏好 | 比物理实验网站好看就行
用户比例 | 约占校人数8%
典型场景 | 处理实验数据时遇到了困难，有某个方法不太明白计算过程。在物理实验平台上通过展示出每一步的计算过程学会了方法。
典型描述 | 我爱物理实验，可是...它不爱我呀


4.**物理实验答疑办王老师**

名字 | 王老师
:----: | :----
性别 | 男
职业 | 某校物理实验老师，没有几年教学经验
物理知识层次与能力 | 对物理实验的理解稍稍入门
生活情况 | 在期末时为学生进行**物理实验考试**有关答疑
动机 | 一到期末考试只有几天答疑时间，从上午8点答疑到晚上8点，时间紧张又累人。学生之间没有交流，大部分问题都是重复的问题。
目的 | 想有个在线平台可以用于物理实验考试的答疑
困难 | 暂时还没什么困难
用户偏好 | 希望自己针对某个问题回答一次，学生都可以轻易查找到
用户比例 | 占一部分，约占校老师人数的10%
典型场景 | 登陆论坛，点击进入物理实验考试答疑板块，发现学生在询问一个问题，回帖答复，感觉很满意。
典型描述 | 一次答复，终身使用。


5.**物理实验李老师**

名字 | 李老师
:----: | :----
性别 | 女
职业 | 某校物理实验老师，有三十年教学经验
物理知识层次与能力 | 对物理实验的理解已经突破天际
生活情况 | 带领学生做实验，检查实验报告，退回不合格实验报告
动机 | 没法和学生进行交流，不知道学生在物理实验里问题究竟出现在哪里。
目的 | 想和学生就实验的难点和学生存在的问题进行探讨，并将这些知识积累下来
困难 | 学生都害怕我，从来没人给我打电话以及发邮件
用户偏好 | 没怎么用过论坛，希望简单易懂地交流
用户比例 | 占一部分，约占校老师人数的10%
典型场景 | 登陆论坛，看看学生们在讨论哪个实验，去帖子里回答一下学生的困惑，与学生更亲近。
典型描述 | 大家好，才是真的好

#### 用户的需求

1. 小徐：希望参考步骤规范的物理实验报告，让自己的物理实验报告不因步骤不规范而被退回。

2. 小松：平台能针对手机端设计一套机制能够既方便用户输入，又能简单快速地帮助用户检查实验数据是否正确。

3. 小何：生成物理实验报告时能够给出每一步方法的中间计算过程，方便大家学习与参考。

4. 王老师：希望能够在实验交流平台上答疑，为同学们解答期末考试有关问题。

5. 李老师：希望能知道学生们在实验中遇到的问题，下次上实验课时就可以更有针对性地进行授课。

> 注:物理实验原始数据单在课上会经老师检查签字，部分老师会录入电脑，数据基本不可更改。若因课上实验数据出错而无法通过实验报告审批，则必须重新抢实验并从头再来一遍。一次物理实验的时间一般是3~4个小时。

## 3. 界面原型
### 3.1 概述

#### 产品初稿

1、核心功能：
支持通过选择物理实验序号进入相应物理实验预习报告页面。

![](https://raw.githubusercontent.com/buaase/Phylab-Web/master/docs/UserInterface/1.0_main_page.png) 
在本页面点击导出模版时可以得到一个关于模版的详细说明与模版标准样式。
在点击导入数据后，等待一定时间后生成一个由用户填写的带数据的已经计算完成的标准实验报告并在预习实验报告的位置显示。
这时数据库中应当包含有各大物理实验报告的模版，用户生成的实验报告不予以保留，临时存储即可。

![](https://raw.githubusercontent.com/buaase/Phylab-Web/master/docs/UserInterface/1.0_report_export.png)

2、进阶α版本需要功能：
增加用户在数据库中的信息：包括用户名，用户密码，用户注册邮箱， 用户的学号（查验）用户收藏的物理实验报告。
Feature： 用户可以在生成物理实验报告后将带有用户个人数据的物理实验报告收藏到用户的收藏夹，收藏夹有存储上限。
此时生成物理实验报告界面大致如下：

![](https://raw.githubusercontent.com/buaase/Phylab-Web/master/docs/UserInterface/1.0_repot_generate.png)

3、进阶β版本需要功能：
彻底解决物理实验报告中的绘图问题（FIXME：在没有之前如何解决？需要讨论） 。
增加物理实验平台交流区，不同的交流区类似于论坛样式的独立显示。交流区的编辑器只支持基本的文字编辑，加粗，加斜与图片上传即可。交流区尽量简洁优雅，不需要有评论的楼中楼回复。回复时像多说一样，只显示头像与用户名，其余不显示。

### 大纲说明

在本次项目中，我们尝试和使用了`UXPIN`、`MockPlus`、`MockUpBuilder`工具进行了用户界面的原型设计，经过反复多次的用户原型设计修改，最终确定用户原型界面设计如下。该界面设计是针对到α版本的功能实现的主要界面的设计。因为`MockUpBuilder`对中文支持不佳，所以最后使用英文来展示我们的原型界面。

我们的界面框架大致如下:

![](https://raw.githubusercontent.com/buaase/Phylab-Web/master/docs/UserInterface/WebFrame.png)

### 3.2 界面首页

#### 首页预览版

![首页](https://raw.githubusercontent.com/buaase/Phylab-Web/master/docs/UserInterface/Index.png)

上图为我们所设计的首页预览版原型图，涉及到的按钮与功能有：

按钮 | 功能 
---- | -----
Home | 如果用户已处于登录状态，则返回用户登录时的主页；如果用户处于未登录状态，则返回用户预览主页。
Community | 点击后进入物理实验交流平台页面
Login | 点击后进入用户登录页面
Register | 点击后进入用户注册页面
Search | 搜索后自动进入物理实验交流平台页面，并显示对帖子内容搜索结果返回的界面
Try it now! | 如果当前用户已经登录，则自动跳转到物理实验报告生成页面；否则跳转至用户登录页面，当用户登录完成后，自动跳转到物理实验报告生成页面。
? | 弹出弹窗，并显示一些物理实验的相关注意事项

> 注:物理实验交流平台是后期功能，将放在beta版本中进行开发

- 在网站主体左侧是一个`物理实验平台与工具的使用视频`。

- 在网站主体右侧显示我们项目的特色：

- 根据用户数据定制物理实验报告
	- 支持生成图表
	- 支持显示公式
	- 支持物理实验文档pdf导出
	- 支持用户收藏定制的物理实验报告
	- 老师与学生的互动交流平台
- 在网站右下角显示了当前的日历与时间

#### 首页登录版

![首页](https://raw.githubusercontent.com/buaase/Phylab-Web/master/docs/UserInterface/Index_Login.png)

首页登录版增加的功能是：
当用户点击右上角的`User welcome`时，弹出一个悬浮框，有两个按钮，按钮功能如下：

按钮 | 功能 
---- | -----
Personal Center| 点击后进入用户的个人中心
LOG OUT | 点击后退出登录状态，页面跳转向首页预览版界面。

### 3.3 登录

![登录界面](https://raw.githubusercontent.com/buaase/Phylab-Web/master/docs/UserInterface/Login.png)

以上是我们设计的登录界面原型图，涉及到的控件与功能有：

控件 | 功能
--- | ---
Home | 返回首页预览版
Email/Name | 填入用户名或邮箱以登录。输入的用户名长度限制在6-20个字符之间：如果用户名长度不符合限制或输入了非法字符，右侧的checkbox将变为错误状态；如果输入的邮箱不符合邮箱合法检查的正则表达式，右侧的checkbox将变为错误状态。其他情况，右侧checkbox处于正确状态。
Password | 填入密码。输入的密码长度限制在6-15个字符之间：如果密码长度不符合限制，右侧的checkbox变为错误状态。否则checkbox处于正确状态。
Sign in!|使用填好的用户名和密码在数据库中进行查询，如果记录不为空则自动跳转到首页登录版，否则跳转到登录界面。

### 3.4个人中心

#### 个人中心—个人资料

![个人中心界面](https://raw.githubusercontent.com/buaase/Phylab-Web/master/docs/UserInterface/User.png)

以上是我们设计的个人中心—个人资料的原型图，涉及到的控件与功能有：

控件 | 功能
--- | ---
Edit Profile | 更改个人资料，能更改的属性包括：Company，NickName，Introduction，Course(目前的物理实验积分情况)
Share | 点击下方的分享按钮后，可以分享到新浪微博等。
Change Password | 点击修改密码后，将进入修改密码的界面。
Log out | 点击后进入首页预览版界面。
Profile | 点击Profile时切换显示`个人资料`的标签页
Favorite | 点击Favorite时切换显示`用户收藏报告`标签页

> 注：Course是我们考虑在beta版本中可能推出的一个物理实验课程推荐功能的基础，暂时只当作课程积分资料使用。
> Share的分享功能也考虑在beta版本交流平台成熟后增设。

#### 个人中心—用户收藏报告

![](https://raw.githubusercontent.com/buaase/Phylab-Web/master/docs/UserInterface/User_Favor.png)

以上是我们设计的个人中心—用户收藏报告的原型图，涉及到的主要是可点击的物理实验报告，用户在点击物理实验报告的链接后，会新建一个页面，显示用户在服务器上存放的特定的实验pdf文件。

### 3.5 生成报告

![](https://raw.githubusercontent.com/buaase/Phylab-Web/master/docs/UserInterface/Generate.png)

以上是我们设计的生成报告的原型图，涉及到的控件与功能有：

- 主体左侧上方是个下拉列表框，可以选择带有实验序号和实验名称的实验。

- 主体左侧下拉列表框在下拉时遮挡住了一个按钮`Export template table`即导出模版表，数据表的形式是excel，为各个实验的标准源数据记录excel模版。

- 主体左侧下方按钮`Import data table`即导入数据表，数据表的形式是excel，导入后即向后台发出请求对excel进行对应实验的处理。如果导入的数据表格式不正确，则弹窗警告；否则就在后端生成PDF，并送给前端进行加载。

- 主题左侧下方按钮`Chart`是指是否在实验报告中插入该实验的图表，点击变为`ON`的状态时生成的实验报告带有图表；点击变为`OFF`状态时生成的实验报告不带图表。

- 主体右侧是物理实验报告。在导入数据表之前，它是一个预习实验报告；当导入数据表后，它是一个带有用户自己数据的定制实验报告。

- 主体右侧下方是按钮`Export`，当点击该按钮时可以导出带有用户数据的PDF物理实验报告。

- 主题右侧按钮左侧的★图标表示收藏，当点击该按钮时，首先判断用户收藏夹的pdf是否已经到达上限，如果到达上限，那么提示用户删除一部分物理实验报告；如果没有到达上限，将该pdf从临时缓存区取出存放到用户的收藏夹中，并且星星变为填充满的状态，表示已经收藏到收藏夹。