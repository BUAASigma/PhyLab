import P1011
import unittest 

class test_phylab(unittest.TestCase):
		def testSteelWire_1(self):
				m = [10.000,12.000,14.000,16.000,18.000,20.000,22.000,24.000]
				C_plus = [3.50, 3.81, 4.10, 4.40, 4.69, 4.98, 5.28, 5.59]
				C_sub = [3.52, 3.80, 4.08, 4.38, 4.70, 4.99, 5.30, 5.59]
				D = [0.789, 0.788, 0.788, 0.787, 0.788]
				L = 38.9
				H = 77.0
				b = 8.50
				res = P1011.SteelWire(m, C_plus, C_sub, D, L, H, b)
				self.assertEqual(res,'(1.90\\pm0.05){\\times}10^{11}',"test SteelWire fail")
		def testSteelWire_2(self):
				m = [10.000,12.000,14.000,16.000,18.000,20.000,22.000,24.000]
				C_plus = [6.72, 7.21, 7.65, 8.11, 8.55, 8.99, 9.47, 9.91]
				C_sub = [6.74, 7.22, 7.64, 8.12, 8.57, 9.02, 9.48, 9.90]
				D = [0.796, 0.796, 0.796, 0.796, 0.796]
				L = 39.61
				H = 111.12
				b = 8.50
				res = P1011.SteelWire(m, C_plus, C_sub, D, L, H, b)
				self.assertEqual(res,'(1.80\\pm0.03){\\times}10^{11}',"test SteelWire fail")
		
		def testInertia_1(self):
				m = [711.77, 711.82, 1242.30, 131.76, 241.56,238.38]
				d = [99.95, 99.95, 93.85, 114.60, 610.00]
				T = [[4.06, 4.06, 4.07, 4.06, 4.06], [6.57, 6.57, 6.57, 6.56, 6.57],
			[8.16, 8.16, 8.17, 8.17, 8.17], [7.35, 7.35, 7.33, 7.35, 7.37],
			[11.40, 11.40, 11.41, 11.41, 11.41]]
				l = [34.92, 6.02, 33.05]
				T2 = [[13.07,13.07,13.07,13.07,13.06],[16.86,16.86,16.88,16.87,16.88],
						[21.79,21.82,21.83,21.84,21.84],[27.28,27.28,27.29,27.27,27.27],
						[32.96,32.96,32.96,32.97,32.96]]
				res = P1011.Inertia(m, d, T, l, T2)
				x = 1
				if(abs(res[0] - 0.9999989) > pow(10,-7)):
						x = 0
				if(abs(res[1] - 610.9)/610.9 > 0.001):
						x = 0
				self.assertEqual(x,1,"test Inertia fail")
		def testInertia_2(self):
				m = [711.71, 697.76, 1242.40, 131.50, 239.84,239.57]
				d = [99.95, 99.95, 93.85, 114.60, 610.00]
				T = [[4.21, 4.21, 4.21],
					 [6.80, 6.80, 6.80],
					 [8.40, 8.39, 8.38],
					 [7.23, 7.23, 7.23],
					 [11.57, 11.60, 11.59]]

				l = [34.92, 6.02, 33.05]
				T2 = [[13.07,13.07,13.07,13.07,13.06],
					  [16.86,16.86,16.88,16.87,16.88],
					  [21.79,21.82,21.83,21.84,21.84],
					  [27.28,27.28,27.29,27.27,27.27],
					  [32.96,32.96,32.96,32.97,32.96]]
				res = P1011.Inertia(m, d, T, l, T2)
				x = 1
				if(abs(res[0] - 0.9999989) > 1e-7):
						x = 0
				if(abs(res[1] - 610.9)/610.9 > 0.001):
						x = 0
				self.assertEqual(x,1,"test Inertia fail")

if __name__ =='__main__':
	unittest.main()
